
<div class="loader_gif" *ngIf="disableMultipleSave">
    <img [src]="global_service.basePathLoader"  class="loader-image-eight">
</div>
<div class="col-lg-12 col-md-12">
  <div class="card">
    <div class="header">
      <h4 class="title">Add Sos</h4>
    </div>
    <div class="content">
      <form [formGroup]="addSosForm" class="form-gap">
        <div *ngIf="!addSosForm.valid && validateForm" class="alert alert-danger">
            Please fill all fields highlighted in Red
        </div>
        <div class="row">
          <div class="col-md-2">
            <label>Author *</label>
          </div>
          <div class="col-md-10">
            <div class="form-group">
              <select class="form-control border-input" formControlName="userId" [ngClass]="{'red-border-class': !addSosForm.controls.userId.valid && validateForm}">
                <option label="Please Select Author" value="" [selected]="true">Please Select Author</option>
                <option *ngFor='let admin of authorDataArray' value="{{admin?.id}}">
                  {{admin?.first_name}} {{admin?.last_name}}
                </option>
              </select>
              <div [hidden]="addSosForm.controls.userId.valid || addSosForm.controls.userId.pristine"
              class="text-danger">
              Author is Required
              </div>
            </div>
          </div>
        </div>
        <div class="row">
            <div class="col-md-2">
              <label>Name *</label>
            </div>
            <div class="col-md-10">
            <div class="form-group">
              <input class="form-control border-input" formControlName="name" 
              placeholder="Enter the Name" 
              [ngClass]="{'red-border-class': !addSosForm.controls.name.valid && validateForm}">
            </div>
            <div [hidden]="addSosForm.controls.name.valid || addSosForm.controls.name.pristine"
            class="text-danger">
            Name is Required
            </div>
          </div>
        </div>
        <div class="row">
          <div class="form-group">
            <div class="col-md-2">
              <label>Phone Number *</label>
            </div>
            <div class="col-md-10">
              <div class="row">

                <div class=" col-md-2 countryCodeCss">
                  <select class="form-control border-input" formControlName="country_code">
                    <option label="Select" value="" [selected]="true">Select Country</option>
                    <option *ngFor='let code of countryCode' value="{{code?.code}}">
                      <p style="text-overflow: ellipsis;white-space: nowrap;overflow: hidden;max-width: 20px;">{{code?.name}}</p>
                    </option>
                  </select>
                  <!-- <div [hidden]="addSosForm.controls.textValid.valid || addSosForm.controls.textValid.pristine"
                  class="text-danger">
                  </div> -->
                </div>

                <div class="col-md-10">
                  <input  class="form-control border-input col-md-7" formControlName="phn_no" 
                   maxlength="10" placeholder="Enter the Phone Number" [ngClass]="{'red-border-class': !addSosForm.controls.phn_no.valid && validateForm}">
                  <div [hidden]="addSosForm.controls.phn_no.valid || addSosForm.controls.phn_no.pristine"
                  class="text-danger">
                  Please Enter valid Phone Number 
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="btn-save">
          <div class=" col-md-2">&nbsp;</div>
          <button type="submit" class="btn btn-info btn-fill btn-wd" (click)="addSos()" [disabled]="disableMultipleSave">
          Save</button>
        </div>  
        <div class="clearfix"></div>
      </form>
    </div>
  </div>
</div>

