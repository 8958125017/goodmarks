<div class="loader_gif" *ngIf="disableMultipleSave">
  <img [src]="global_service.basePathLoader"  class="loader-image-eight">
</div>
<div class="col-lg-12 col-md-12" *ngIf="disableEdit">
  <div class="card">
    <div class="header">
        <h4 class="title">Edit Help Request</h4>
    </div>
    <div class="content">
      <form [formGroup]="edithelpRequestForm">
        <div *ngIf="!edithelpRequestForm.valid && validateFields" class="alert alert-danger">
            Please fill all fields highlighted in Red
        </div>
        <div class="row">
          <div class="col-md-3">
            <label>Author *</label>
          </div>
          <div class="col-md-9">
            <div class="form-group">
              <!--  <input class="form-control border-input" formControlName="author_id" value="{{helpReqData?.first_name}} {{helpReqData?.last_name}}"> -->
              <select class="form-control border-input" formControlName="author_id" value="{{helpReqData?.author_id}}" 
              [ngClass]="{'red-border-class' : !edithelpRequestForm.controls.author_id.valid && validateFields}">
                <option label="Please Select Author">Please Select Author</option>
                <option *ngFor='let admin of authorDataArray' value="{{admin?.id}}">
                  {{admin?.first_name}} {{admin?.last_name}}
                </option>
              </select>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3">
            <label>Title *</label>
          </div>
          <div class="col-md-9">
            <div class="form-group">
              <input class="form-control border-input" id="title" formControlName="title" value="{{helpReqData?.title}}" 
              [ngClass]="{'red-border-class': !edithelpRequestForm.controls.title.valid && validateFields}">
              <div [hidden]="edithelpRequestForm.controls.title.valid || edithelpRequestForm.controls.title.pristine"
              class="text-danger">
              </div>
            </div>
          </div>
        </div>
        <div class="row">
            <div class="col-md-3">
              <label>Description *</label>
            </div>
            <div class="col-md-9">
              <div class="form-group">
               <input rows="5" class="form-control border-input" formControlName="desc" value="{{helpReqData?.desc}}" 
               [ngClass]="{'red-border-class': !edithelpRequestForm.controls.desc.valid && validateFields}">
             </div>
           </div>
         </div>
         <div class="row">
          <div class="col-md-3">
            <label>Help Type *</label>
          </div>
          <div class="col-md-9">
            <div class="form-group">
              <select class="form-control border-input" formControlName="help_type" value="{{helpReqData?.help_type}}" 
              [ngClass]="{'red-border-class': !edithelpRequestForm.controls.help_type.valid && validateFields}">
                <option label="Please Select">Help Type</option>
                <option *ngFor="let help of helpTypes" value="{{help.id}}">
                  {{help.help}}
                </option>
              </select>
            </div>
          </div>
        </div>
        <div class="row">
                    <div class="col-md-3">
                        <label>Difficulty *</label>
                    </div>
                    <div class="col-md-9">
                        <div class="form-group">
                          <select class="form-control border-input" formControlName="difficulty" value="{{helpReqData?.difficulty}}" 
                          [ngClass]="{'red-border-class': !edithelpRequestForm.controls.difficulty.valid && validateFields}">
                              <option value="" label="Please Select" selected>Please Select</option>
                              <option value="1" label="Very Easy">Very Easy
                              </option>
                              <option value="2" label="Easy">Easy
                              </option>
                              <option value="3" label="Average">Average
                              </option>
                              <option value="4" label="Hard">Hard
                              </option>
                              <option value="5" label="Very Hard">Very Hard
                              </option>
                            </select>
                            <div [hidden]="edithelpRequestForm.controls.difficulty.valid || edithelpRequestForm.controls.difficulty.pristine"
                            class="text-danger">
                            </div>
                        </div>
                    </div>
                </div>
        <div class="row">
          <div class="col-md-3">
            <label>Skills *</label>
          </div>
          <div class="col-md-9">
            <div class="form-group">
              <p-multiSelect [options]="customSkillArray" formControlName="skills" [(ngModel)]="selectedSkill"
              class="full-width" [ngClass]="{'red-border-class': !edithelpRequestForm.controls.skills.valid && validateFields}">{{selectedSkill}}</p-multiSelect>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3">
            <label>Distance in Miles *</label>
          </div>
          <div class="col-md-9">
            <div class="form-group">
              <input class="form-control border-input" id="distance" formControlName="distance" value="{{helpReqData?.distance}}" 
              [ngClass]="{'red-border-class': !edithelpRequestForm.controls.distance.valid}">
            </div>
            <div [hidden]="edithelpRequestForm.controls.distance.valid || edithelpRequestForm.controls.distance.pristine"
            class="text-danger">
            Number Only
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3">
            <label>Zip Code *</label>
          </div>
          <div class="col-md-9">
            <div class="form-group">
              <input class="form-control border-input" id="zipCode" formControlName="zip_code" value="{{helpReqData?.zip_code}}" maxlength="10" 
              [ngClass]="{'red-border-class': !edithelpRequestForm.controls.zip_code.valid}">
            </div>
            <div [hidden]="edithelpRequestForm.controls.zip_code.valid || edithelpRequestForm.controls.zip_code.pristine"
            class="text-danger">
            Number Only
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3">
            <label>Latitude</label>
          </div>
          <div class="col-md-9">
            <div class="form-group">
              <input class="form-control border-input" id="Latitude" formControlName="latitude" value="{{helpReqData?.latitude}}">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3">
            <label>Longitude</label>
          </div>
          <div class="col-md-9">
            <div class="form-group">
              <input class="form-control border-input" id="Longitude" formControlName="longitude" value="{{helpReqData?.longitude}}">
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3">
            <label> Completion</label>
          </div>
          <div class="col-md-9">
            <div class="form-group">

              <p-calendar [ngModelOptions]="{standalone: true}"  [(ngModel)]="needbydate" (onSelect)="showDate()" [monthNavigator]="true" [yearNavigator]="true" yearRange="{{lastYear}}:2090" placeholder="Please Select Date"></p-calendar>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3">
            <label>Status</label>
          </div>
          <div class="col-md-9">
            <div class="form-group">
              <select class="form-control border-input" class="form-control border-input" id="status" formControlName="status">
                <option label="Select Status" selected="true">Select Status</option>
                <option label="Removed" value="0" [selected]="helpReqData?.status == 0">Removed</option>
                <option label="Created" value="1" [selected]="helpReqData?.status == 1">Created</option>
                <option label="Accepted" value="2" [selected]="helpReqData?.status == 2">Accepted</option>
                <option label="Started" value="3" [selected]="helpReqData?.status == 3">Started</option>
                <option label="Finished" value="4" [selected]="helpReqData?.status == 4">Finished</option>
                <option label="Cancelled" value="5" [selected]="helpReqData?.status == 5">Cancelled</option>
              </select>
            </div>
          </div>
        </div>
        <div class="text-center">
          <button type="submit" class="btn btn-info btn-fill btn-wd" (click)="updateHelpRequest()" [disabled]="">Update
          </button>
        </div>
      </form>
    </div>
  </div>
</div>      